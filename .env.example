# BSMarker Production Environment Configuration
# Copy this file to .env.production and fill in the values

# Application
VERSION=latest
NODE_ENV=production

# Database
DB_USER=bsmarker
DB_PASSWORD=CHANGE_THIS_STRONG_PASSWORD
DB_NAME=bsmarker_db
DATABASE_URL=postgresql://bsmarker:CHANGE_THIS_STRONG_PASSWORD@postgres:5432/bsmarker_db  # pragma: allowlist secret

# Redis
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD
REDIS_URL=redis://redis:6379/0

# MinIO Object Storage
MINIO_ACCESS_KEY=CHANGE_THIS_ACCESS_KEY
MINIO_SECRET_KEY=CHANGE_THIS_SECRET_KEY_MIN_8_CHARS
MINIO_ENDPOINT=minio:9000
MINIO_BUCKET_RECORDINGS=recordings
MINIO_BUCKET_SPECTROGRAMS=spectrograms
MINIO_SECURE=false

# JWT Authentication
SECRET_KEY=CHANGE_THIS_USE_OPENSSL_RAND_BASE64_32
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Initial Admin User
FIRST_ADMIN_EMAIL=admin@bsmarker.com
FIRST_ADMIN_PASSWORD=CHANGE_THIS_ADMIN_PASSWORD

# CORS Settings (production domain)
# For production: ["https://bsmarker.utia.cas.cz"]
# For development: ["http://localhost:3456","http://localhost:3000"]
CORS_ORIGINS=["https://bsmarker.utia.cas.cz"]

# File Upload Settings
MAX_UPLOAD_SIZE=104857600
ALLOWED_AUDIO_EXTENSIONS=[".mp3", ".wav", ".m4a", ".flac"]

# Spectrogram Generation
SPECTROGRAM_N_FFT=2048
SPECTROGRAM_HOP_LENGTH=512
SPECTROGRAM_N_MELS=128

# Security Settings
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# Generate secure secrets with:
# SECRET_KEY: openssl rand -base64 32
# DB_PASSWORD: openssl rand -base64 24
# MINIO keys: openssl rand -hex 20
